<div class="container mt-4 d-none d-md-block">
    <div class="col-12 mb-3">
        
        <div class="button-group">
            <div class="row">
                <div class="col">
                    <h3 *ngIf="new">Kreiranje naloga</h3>
                    <h3 *ngIf="!new">Informacije o nalogu</h3>
                    <span>Status: </span><span [ngClass]="{'statusNovi': wo.status == 'Novi', 'statusURadu': wo.status == 'U radu', 'statusZatvoren' : wo.status == 'Zatvoren'}">{{wo.status}}</span>
                </div>
                <div class="col" style="float: right">
                    <button class="btn btn-primary btn-edit" [disabled]="wo.status == 'Zatvoren'" *ngIf="!new" (click)="closewo()"><i class="fa fa-window-close mr-2" ></i>Zatvori</button>
                    <button class="btn btn-primary btn-add mr-2" [disabled]="wo.status == 'Zatvoren'" *ngIf="!new" (click)="updateWorkOrder()"><i class="fa fa-save mr-2"></i>Sačuvaj</button>
                    <button class="btn btn-primary btn-add mr-2" *ngIf="new"  (click)="addWorkOrder()"><i class="fa fa-plus mr-2"></i>Kreiraj</button>
                </div>
            </div>
            
            
        </div>
    </div>
    <!--header info-->
    <div class="header-info">
        <table class="table header-table">
            <tr>
                <td class="left-col-header">
                   <i class="fa fa-file mr-2"></i>Operacija:
                </td>
                <td class="right-col-header" >
                    <select name="" [(ngModel)]="workOrder.name" class="form-control" id="">
                      <option value="{{operation}}" *ngFor="let op of operations">{{op.name}}</option>

                    </select>
                    <ng-template #elseBlockOperation>
                        <select [(ngModel)]="wo.operationId"  name="" id="" class="form-control">
                            <option value="-1"></option>
                            <option value="{{operation}}" *ngFor="let operation of this.operations" >{{operation}}</option>
                        </select>
                    </ng-template>
                </td>
                <td class="left-col-header">
                    <i class="fa fa-database mr-2"></i>Tabla:
                 </td>
                 <td class="right-col-header">
                    <select name="" [(ngModel)]="crop.FieldId" class="form-control" id="">
                        <option value="{{table}}" *ngFor="let table of this.tables">{{table}}</option>
                    </select>
                 </td>
            </tr>
            <tr>
                <td class="left-col-header">
                    <i class="fa fa-calendar mr-2"></i>Datum:
                </td>
                <td class="right-col-header">
                    <div class="form-row" >
                        <div class="col">
                            <input type="date" [(ngModel)]="wo.start" name="poc" id="from" ngbDatepicker #from="ngbDatepicker" (click)="from.toggle()" class="form-control" >
                        </div>
                        <div class="mt-2">
                            -
                        </div>
                        <div class="col">
                            <input type="date" [(ngModel)]="wo.end" name="kraj" class="form-control" id="to" ngbDatepicker #to="ngbDatepicker" (click)="to.toggle()">
                        </div>
                    </div>
                </td>
                <td class="left-col-header">
                    <i class="fa fa-user mr-2"></i>Odgovorna osoba:
                 </td>
                 <td class="right-col-header">
                    <select [(ngModel)]="workOrder.responsible" name="" id="" class="form-control" >
                        <option value="{{emp.id}}" *ngFor="let emp of allEmployees">{{emp.name}}</option>
                    </select>
                    <ng-template #elseBlockResponsible>
                        <select name="" [(ngModel)]="wo.responsible" id="" class="form-control" >
                            <option value="{{employee}}" *ngFor="let employee of this.employeess">{{employee}}</option>
                        </select>
                    </ng-template>
                 </td>
            </tr>
            <tr>
                <td class="left-col-header">
                  <i class="fa fa-cubes"></i> Kultura:
                </td>
                <td class="right-col-header">
                    <select name="" [(ngModel)]="workOrder.culture" class="form-control" id="">
                        <option value="{{cul.id}}" *ngFor="let cul of cultures">{{cul.name}}</option>
                    </select>
                </td>
                <td class="left-col-header">
                    <i class="fa fa-tasks mr-2"></i>Godina:
                 </td>
                 <td class="right-col-header">
                    <select name="" [(ngModel)]="crop.Year" id="" class="form-control" >
                        <option value="2020">2020</option>
                        <option value="2019">2019</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td class="left-col-header">
                  <i class="fa fa-clone"></i> Površina:
                </td>
                <td class="right-col-header">
                    <div class="input-group mb-3">
                        <input type="text" name="" [(ngModel)]="crop.Area" id="" class="form-control">
                        <div class="input-group-append">
                            <span class="input-group-text" id="basic-addon2">ha</span>
                        </div>
                    </div>
                </td>
                <td class="left-col-header" >
                    <span *ngIf="!new">
                        <i class="fa fa-flag mr-2"></i>Obrađeno:
                    </span>
                    
                 </td>
                 <td class="right-col-header">
                     
                     <span *ngIf="!new">
                        <div class="input-group mb-3">
                            <input type="text" name=""  [ngClass]="!this.inputFill ? 'inputFillFalse' : null" id="" class="form-control">
                            <div class="input-group-append">
                                <span class="input-group-text" id="basic-addon2">ha</span>
                            </div>
                        </div>
                     </span>
                    
                 </td>
            </tr>
        </table>
    </div>

    <!--workers-->
    <div class="workers">
    <button class="btn btn-primary collapsing-button shadow-none" (click)="expandWorkers()" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
        <i class="fa fa-user mr-2"></i>Radnici<i *ngIf="!workers" class="fa fa-arrow-down mr-2 mt-1 arrows"></i><i *ngIf="workers" class="fa fa-arrow-up mr-2 mt-1 arrows"></i>
    </button>
    <div class="collapse" id="collapseExample">
    <div class="card card-body collapse-card">
        <table class="table table-input">
            <thead>
                <th >
                    Radnik*
                </th>
                <th *ngIf="!new" style="width: 200px;">
                    Datum*
                </th>
                <th >
                    Operacija*
                </th>
                <th *ngIf="!new" style="width: 130px;">
                    Redovan rad*
                </th>
                <th *ngIf="!new" style="width: 130px;"> 
                    Noćni rad*
                </th>
                <th *ngIf="!new" style="width: 130px;">
                    Ukupan rad*
                </th>
                <th style="text-align: right !important;">
                    Dodaj
                </th>
            </thead>
            <tbody>
            <tr > 
                <td>
                    <div class="form-group" >
                        <select name=""  id="" class="form-control" *ngIf="!new; else elseBlockWorkers">
                            <option value="-1"></option>
                            <option name="workerId" value="{{worker.id}}" *ngFor="let worker of employees">{{worker.Name}}</option>
                        </select>
                        <ng-template #elseBlockWorkers>
                            <select  name="" id="" class="form-control">
                                <option value="-1">--Izaberi--</option>
                                <option value="{{emp.id}}" *ngFor="let emp of allEmployees">{{emp.name}}</option>
                            </select>
                        </ng-template>
                    </div>
                    </td>
                    <td *ngIf="!new">
                        <div class="input-group">
                            <input (click)="od.toggle()" class="form-control" id="od" placeholder="yyyy-mm-dd" ngbDatepicker #od="ngbDatepicker">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary calendar" (click)="od.toggle()" type="button"></button>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <select name="" id=""  class="form-control" *ngIf="!new; else elseBlockOperations">
                                <!--<option value="{{worker.operation}}" selected>{{worker.operation}}</option>-->
                                <option value="-1"></option>
                                <option   value=""></option>
                            </select>
                            <ng-template #elseBlockOperations>
                                <select name="" id="" [(ngModel)]="worker.operation" class="form-control">
                                    <option value="{{operation}}" *ngFor="let op of operations">{{op.name}}</option>
                                </select>
                            </ng-template>
                        </div>
                    </td>
                    <td *ngIf="!new">
                        <div class="form-group">
                            <div class="input-group mb-3">
                                <input  type="number" name="" class="form-control" id="">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">h</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td *ngIf="!new">
                        <div class="form-group">
                            <div class="input-group mb-3">
                                <input  type="number" name="" class="form-control" id="">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">h</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td *ngIf="!new" style="vertical-align: middle;">
                        <div class="form-group">
                            <div class="input-group mb-3">
                                <input  type="number" name="" class="form-control" id="" disabled>
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">h</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div *ngIf="!editing" class="form-group">
                            <button class="btn btn-primary btn-add mr-2" (click)="addWorker()" [disabled]="wo.status == 'Zatvoren'">
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>
                        <div *ngIf="editing" class="form-group">
                            <button class="btn btn-primary btn-add mr-2" (click)="editExistingWorker()" [disabled]="wo.status == 'Zatvoren'">
                                <i class="fa fa-check"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr *ngFor="let worker of employees">
                    <td>{{worker.name}}</td>
                    <td *ngIf="!new"></td>
                    <td ></td>
                    <td *ngIf="!new"></td>
                    <td *ngIf="!new"></td>
                    <td *ngIf="!new"></td>
                    <td>
                        <button class="btn btn-primary btn-edit" (click)="editWorker(worker)" [disabled]="wo.status == 'Zatvoren'">
                        <i class="fa fa-edit"></i>
                        </button>
                    </td>
                </tr>
                </tbody>
        </table>
    </div>  
</div>

<!--machines-->
<div class="machines mt-4">
    <button class="btn btn-primary collapsing-button shadow-none" (click)="expandMachines()" type="button" data-toggle="collapse" data-target="#collapseExampleMachines" aria-expanded="false" aria-controls="collapseExampleMachines">
        <i class="fa fa-truck mr-2"></i>Mašine<i *ngIf="!machines" class="fa fa-arrow-down mr-2 mt-1 arrows"></i><i *ngIf="machines" class="fa fa-arrow-up mr-2 mt-1 arrows"></i>
    </button>
    <div class="collapse" id="collapseExampleMachines">
    <div class="card card-body collapse-card">
        <table class="table table-input">
            <thead>
                <th>
                    Mašina*     
                </th>
                <th>
                    Radnik*
                </th>
                <th *ngIf="!new" style="width: 150px;">
                    Početno stanje MČ
                </th>
                <th *ngIf="!new" style="width: 150px;">
                    Krajnje stanje MČ
                </th>
                <th *ngIf="!new" style="width: 150px;">
                    Utrošeni MČ 
                </th>
                <th *ngIf="!new" style="width: 150px;">
                    Utrošak goriva
                </th>
                <th style="text-align: right !important;">
                    Dodaj
                </th>
            </thead>
            <tbody>
            <tr>
                <td>
                        <div class="form-group">
                            <select name="" id="" class="form-control" *ngIf="!new; else elseBlockMachine">
                                <option value="-1"></option>
                                <option value="{{m.Name}}" *ngFor="let m of wo.machines">{{m.Name}}</option>
                            </select>
                            <ng-template #elseBlockMachine>
                                <select [(ngModel)]="machine.machine" name="" id="" class="form-control">
                                    <option value="{{dev.id}}" *ngFor="let dev of devices">{{dev.name}}</option>
                                </select>
                            </ng-template>
                        </div>
                    </td>
                    <td>
                        <div class="form-group" >
                            <select name="" id="" class="form-control" *ngIf="!new; else elseBlockWorkersMachine">
                                <option value="-1"></option>
                                <option value="" ></option>
                            </select>
                            <ng-template #elseBlockWorkersMachine>
                                <select [(ngModel)]="machine.worker" name="" id="" class="form-control">
                                    <option value="{{emp.id}}" *ngFor="let emp of allEmployees">{{emp.name}}</option>
                                </select>
                            </ng-template>
                        </div>
                    </td>
                    
                    <td *ngIf="!new">
                        <div class="form-group">
                            <div class="input-group mb-3">
                                <input  type="number" name="" id="" class="form-control">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">mh</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td *ngIf="!new">
                        <div class="form-group">
                            <div class="input-group mb-3">
                                <input  type="number" name="" id="" class="form-control">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">mh</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td *ngIf="!new" style="vertical-align: middle;">
                        <div class="form-group">
                            <div class="input-group mb-3">
                                <input  type="number" name="" id="" class="form-control" disabled>
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">mh</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td *ngIf="!new">
                        <div class="form-group">
                            <div class="input-group mb-3">
                                <input [(ngModel)]="wo.machines.FuelType" type="number" name="" id="" class="form-control">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">l</span>
                                </div>
                            </div>
                        </div>
                    </td>

                    <td>
                        <div *ngIf="!editingMachine" class="form-group">
                            <button class="btn btn-primary btn-add mr-2" (click)="addMachine()" [disabled]="wo.status == 'Zatvoren'">
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>
                        <div *ngIf="editingMachine" class="form-group">
                            <button class="btn btn-primary btn-add mr-2" (click)="editExistingMachine()" [disabled]="wo.status == 'Zatvoren'">
                                <i class="fa fa-check"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr *ngFor="let machine of woMachines">
                    <td>{{ machine.name }}</td>
                    <td></td>
                    <td *ngIf="!new"> mh</td>
                    <td *ngIf="!new"> mh</td>
                    <td *ngIf="!new"> mh</td>
                    <td *ngIf="!new">{{ machine.FuelType || 0 }} l</td>
                    <td>
                        <button class="btn btn-primary btn-edit" (click)="editMachine(machine)" [disabled]="wo.status == 'Zatvoren'">
                        <i class="fa fa-edit"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
      
    </div>  
    </div>
</div>

<!--materials-->
<div class="machines mt-4">
    <button class="btn btn-primary collapsing-button shadow-none" (click)="expandMaterials()" type="button" data-toggle="collapse" data-target="#collapseExampleMaterials" aria-expanded="false" aria-controls="collapseExampleMachines">
        <i class="fa fa-leaf mr-2"></i>Materijali<i *ngIf="!materials" class="fa fa-arrow-down mr-2 mt-1 arrows"></i><i *ngIf="materials" class="fa fa-arrow-up mr-2 mt-1 arrows"></i>
    </button>
    <div class="collapse" id="collapseExampleMaterials">
    <div class="card card-body collapse-card">
        <table class="table table-input">
            <thead>
                <th>
                    Materijal*     
                </th>
                <th style="width: 180px;">
                    Planirana količina / ha*
                </th>
                <th style="width: 150px;">
                   Planirana količina*
                </th>
                <th style="width: 100px;">
                    Jedinica mere*
                </th>
                <th *ngIf="!new" style="width: 150px;">
                    Utrošeno / ha*
                </th>
                <th *ngIf="!new" style="width: 150px;">
                    Utrošeno*
                </th>
                <th style="text-align: right !important;">
                    Dodaj
                </th>
            </thead>
            <tbody>
            <tr>
                <td>
                        <div class="form-group">
                            <select name="" id="" class="form-control" *ngIf="!new; else elseBlockMaterial">
                                <option value="-1"></option>
                                <option value="{{mat.Name}}" *ngFor="let mat of wo.materials">{{mat.Name}}</option>
                            </select>
                            <ng-template #elseBlockMaterial>
                                <select [(ngModel)]="material.name" name="" id="" class="form-control">
                                    <option value="{{sub.id}}" *ngFor="let sub of substances">{{sub.name}}</option>
                                </select>
                            </ng-template>
                            
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <div class="input-group mb-3">
                                <input  type="number" name="" id="" class="form-control" disabled >
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">{{wo.materials.Unit}}/ha</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <div class="input-group mb-3">
                                <input  type="number" name="" id="" class="form-control">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">{{wo.materials.Unit}}</span>
                                </div>
                        </div>
                        </div>
                    </td>
                    <td>
                        <div class="form-group">
                            <select [(ngModel)]="wo.materials.Unit" name="" id="" class="form-control">
                                <option value="kg">kg</option>
                                <option value="t">t</option>
                                <option value="l">l</option>
                            </select>
                        </div>
                    </td>
                    <td *ngIf="!new">
                        <div class="form-group" >
                            <div class="input-group mb-3">
                                <input  type="number" name="" id="" class="form-control" disabled>
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">{{wo.materials.Unit}}/ha</span>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td *ngIf="!new">
                        <div class="form-group" >
                            <div class="input-group mb-3">
                                <input  type="number" name="" id="" class="form-control">
                                <div class="input-group-append">
                                    <span class="input-group-text" id="basic-addon2">{{wo.materials.Unit}}</span>
                                </div>
                            </div>
                        </div>
                    </td>

                    <td>
                        <div *ngIf="!editingMaterial" class="form-group">
                            <button class="btn btn-primary btn-add mr-2" (click)="addMaterial()" [disabled]="wo.status == 'Zatvoren'">
                                <i class="fa fa-plus"></i>
                            </button>
                        </div>
                        <div *ngIf="editingMaterial" class="form-group">
                            <button class="btn btn-primary btn-add mr-2" (click)="editExistingMaterial()" [disabled]="wo.status == 'Zatvoren'">
                                <i class="fa fa-check"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr *ngFor="let material of woMaterials">
                    <td>{{ material.name }}</td>
                    <td>{{material.unit}}/ha</td>
                    <td> {{material.unit}}</td>
                    <td >{{ material.unit }}</td>
                    <td *ngIf="!new">{{material.unit}}/ha</td>
                    <td *ngIf="!new"> {{material.unit}}</td>

                    <td>
                        <button class="btn btn-primary btn-edit" (click)="editMaterial(material)" [disabled]="wo.status == 'Zatvoren'">
                        <i class="fa fa-edit"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
      
    </div>  
    </div>
    </div>

</div>

</div>

<div class="container d-md-none">
    <div class="row" style="margin-top: 10px;">
        <div class="col-8">
            <h3 *ngIf="new">Kreiranje naloga</h3>
            <h3 *ngIf="!new">Informacije o nalogu</h3>
            <span>Status: </span><span  [ngClass]="{'statusNovi': wo.status == 'Novi', 'statusURadu': wo.status == 'U radu', 'statusZatvoren' : wo.status == 'Zatvoren'}">{{wo.status}}</span>
        </div>
        <div class="col">
            <div class="btn-group-vertical" style="float: right;">
                <button class="btn btn-primary btn-edit mb-2" [disabled]="wo.status == 'Zatvoren'" *ngIf="!new" (click)="closewo()"><i class="fa fa-window-close mr-2" ></i>Zatvori</button>
                <button class="btn btn-primary btn-add mr-2" [disabled]="wo.status == 'Zatvoren'" *ngIf="!new" (click)="saveData()"><i class="fa fa-save mr-2"></i>Sačuvaj</button>
                <button class="btn btn-primary btn-add mr-2" *ngIf="new"  (click)="addwo()"><i class="fa fa-plus mr-2"></i>Dodaj</button>
            </div>
        </div>
    </div>
    <div class="row" style="margin-top: 10px;">
        <div class="col-4">
            <i class="fa fa-file mr-2" style="vertical-align: middle;"></i><span style="vertical-align: bottom;"> Operacija:</span>
        </div>
        <div class="col-8">
            <select name="" [(ngModel)]="operation.kind" class="form-control" id="">
                <option value="{{operation}}" *ngFor="let operation of this.operations">{{operation}}</option>
            </select>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-4">
            <i class="fa fa-database mr-2" style="vertical-align: middle;"></i>Tabla:
        </div>
        <div class="col-4">
            <select name="" [(ngModel)]="crop.FieldId" class="form-control" id="">
                <option value="{{table}}" *ngFor="let table of this.tables">{{table}}</option>
            </select>
        </div>
    </div>
    <hr class="solid">
    <div class="row mt-2">
        <div class="col-12">
            <i class="fa fa-calendar mr-2" style="vertical-align: middle;"></i>Datum:
        </div>
        <div class="col-6">
            <label>Od</label><input type="date" [(ngModel)]="wo.start" id="from" ngbDatepicker #from="ngbDatepicker" (click)="from.toggle()" class="form-control" >
        </div>
        <div class="col-6">
            <label>Do</label> <input type="date" [(ngModel)]="wo.end" name="" class="form-control" id="to" ngbDatepicker #to="ngbDatepicker" (click)="to.toggle()">
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-6">
            <i class="fa fa-user mr-2" style="vertical-align: bottom;"></i>Odgovorna osoba:
        </div>
        <div class="col-6">
            <select [(ngModel)]="workOrder.responsible" name="" id="" class="form-control" >
                <option value="{{emp.id}}" *ngFor="let emp of allEmployees">{{emp.name}}</option>
            </select>
        </div>
    </div>
    <hr class="solid">
    <div class="row mt-2">
        <div class="col-6">
            <i class="fa fa-cubes" style="vertical-align: bottom;"></i> Kultura:
        </div>
        <div class="col-6">
            <select name="" [(ngModel)]="workOrder.culture" class="form-control" id="">
                <option value="{{cul.id}}" *ngFor="let cul of cultures">{{cul.name}}</option>
            </select>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-6">
            <i class="fa fa-tasks mr-2"></i>Godina:
        </div>
        <div class="col-6">
            <select name="" [(ngModel)]="crop.Year" id="" class="form-control">
                <option value="2020">2020</option>
                <option value="2019">2019</option>
            </select>
        </div>
    </div>
    <hr class="solid">
    <div class="row mt-2">
        <div class="col-6">
            <i class="fa fa-clone" style="vertical-align: bottom;"></i> Površina:
        </div>
        <div class="col-6">
            <div class="input-group">
                <input type="text" name="" [(ngModel)]="crop.Area" id="" class="form-control">
                <div class="input-group-append">
                    <span class="input-group-text" id="basic-addon2">ha</span>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-6">
            <i class="fa fa-flag mr-2"></i>Obrađeno:
        </div>
        <div class="col-6">
            <div class="input-group">
                <input type="text" name=""  [ngClass]="!this.inputFill ? 'inputFillFalse' : null" id="" class="form-control">
                <div class="input-group-append">
                    <span class="input-group-text" id="basic-addon2">ha</span>
                </div>
            </div>
        </div>
    </div>
    <hr class="solid">

    <div class="workers">
        <button class="btn btn-primary collapsing-button shadow-none" (click)="expandWorkers()" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
            <i class="fa fa-user mr-2"></i>Radnici<i *ngIf="!workers" class="fa fa-arrow-down mr-2 mt-1 arrows"></i><i *ngIf="workers" class="fa fa-arrow-up mr-2 mt-1 arrows"></i>
        </button>
        <div class="collapse" id="collapseExample">
            <div class="card card-body collapse-card">
                <div class="card mb-3" *ngFor="let worker of employees"  style="border: 1px solid #5C7495; border-radius: 5px;">
                    <div *ngIf="i==0" id="rad"></div>
                    <div class="card-body">
                      <h5 class="card-title">{{worker.Name}}</h5>
                      <ul class="list-group">
                        <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-table"style="font-size:20px;"></i>  <span style="padding-left: 2px;"> Datum: </span></li>
                        <li class="list-group-item list-group-item-info"><i class="fa fa-suitcase"style="font-size:20px;"></i>  <span style="padding-left: 2px;"> Operacija:  </span></li>
                        <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-clock-o"style="font-size:20px;"></i>  <span style="padding-left: 3px;"> Redovan rad:  </span></li>
                        <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-clock-o"style="font-size:20px;"></i>  <span style="padding-left: 3px;"> Noćni rad:  </span> </li>
                        <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-plus"style="font-size:20px;"></i>  <span style="padding-left: 6px;">Ukupan rad:  }h</span> </li>
                      </ul>
                      
                    </div>
                    <div class="card-footer" style="background-color: #acbacc3a;">
                        <button class="btn btn-secondary" style="float: right;" data-toggle="modal" data-target="#exampleModal"(click)="setForEdit(wor)"><i class="fa fa-edit mr-2"></i>Izmeni</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="machines mt-4">
        <button class="btn btn-primary collapsing-button shadow-none" (click)="expandMachines()" type="button" data-toggle="collapse" data-target="#collapseExampleMachines" aria-expanded="false" aria-controls="collapseExampleMachines">
            <i class="fa fa-truck mr-2"></i>Mašine<i *ngIf="!machines" class="fa fa-arrow-down mr-2 mt-1 arrows"></i><i *ngIf="machines" class="fa fa-arrow-up mr-2 mt-1 arrows"></i>
        </button>
        <div class="collapse" id="collapseExampleMachines">
            <div class="card card-body collapse-card">
                <div class="card mb-3" *ngFor="let machine of wo.machines; let i = index;"  style="border: 1px solid #5C7495; border-radius: 5px;">
                    <div *ngIf="i==0" id="mas"></div>
                    <div class="card-body">
                      <h5 class="card-title">{{machine.Name}}</h5>
                      <ul class="list-group">
                        <li class="list-group-item list-group-item-info"><i class="fa fa-suitcase"style="font-size:20px;"></i>  <span style="padding-left: 2px;"> Radnik:  </span></li>
                        <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-clock-o"style="font-size:20px;"></i>  <span style="padding-left: 3px;"> Početno stanje MČ:  mh</span></li>
                        <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-clock-o"style="font-size:20px;"></i>  <span style="padding-left: 3px;"> Krajnje stanje MČ:   mh</span> </li>
                        <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-plus"style="font-size:20px;"></i>  <span style="padding-left: 6px;">Utrošeni MČ:  h</span> </li>
                        <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-gas-pump"style="font-size:20px;"></i>  <span style="padding-left: 3px;"> Utrošak goriva:  {{machine.FuelType || 0}} l</span> </li>
                      </ul>
                    </div>
                    <div class="card-footer" style="background-color: #acbacc3a;">
                        <button class="btn btn-secondary" style="float: right;" data-toggle="modal" data-target="#exampleModal"(click)="setMachForEdit(machine)"><i class="fa fa-edit mr-2"></i>Izmeni</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="machines mt-4">
        <button class="btn btn-primary collapsing-button shadow-none" (click)="expandMaterials()" type="button" data-toggle="collapse" data-target="#collapseExampleMaterials" aria-expanded="false" aria-controls="collapseExampleMachines">
            <i class="fa fa-leaf mr-2"></i>Materijali<i *ngIf="!materials" class="fa fa-arrow-down mr-2 mt-1 arrows"></i><i *ngIf="materials" class="fa fa-arrow-up mr-2 mt-1 arrows"></i>
        </button>
        <div class="collapse" id="collapseExampleMaterials">
            <div class="card mb-3" *ngFor="let material of wo.materials; let i = index;"  style="border: 1px solid #5C7495; border-radius: 5px;">
                <div *ngIf="i==0" id="mat"></div>
                <div class="card-body">
                  <h5 class="card-title">{{material.Name}}</h5>
                  <ul class="list-group">
                    <li class="list-group-item list-group-item-info" ><i class="fa fa-suitcase"style="font-size:20px;"></i>  <span style="padding-left: 2px;"> Planirana količina: {{material.Unit}}/ha</span></li>
                    <li class="list-group-item list-group-item-info" ><i class="fa fa-clock-o"style="font-size:20px;"></i>  <span style="padding-left: 3px;"> Planirana količina: {{material.Unit}}</span></li>
                    <li class="list-group-item list-group-item-info" ><i class="fa fa-clock-o"style="font-size:20px;"></i>  <span style="padding-left: 3px;"> Jedinica mere:  {{material.Unit}}</span> </li>
                    <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-plus"style="font-size:20px;"></i>  <span style="padding-left: 6px;">Utrošeno / ha: {{material.Unit}}/ha</span> </li>
                    <li class="list-group-item list-group-item-info" *ngIf="!new"><i class="fa fa-gas-pump"style="font-size:20px;"></i>  <span style="padding-left: 3px;"> Utrošeno:  {{material.Unit}}</span> </li>
                  </ul>
                  
                </div>
                <div class="card-footer" style="background-color: #acbacc3a;">
                    <button class="btn btn-secondary" style="float: right;" data-toggle="modal" data-target="#exampleModal"(click)="setMachForEdit(machine)"><i class="fa fa-edit mr-2"></i>Izmeni</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">{{modalHeader}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <form>
                <div class="form-group">
                    <label for="imePrz">Ime i prezime</label>
                    <select name="ime" id="imePrz" class="form-control" >
                        <option value=""  ></option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="imePrz">Operacija</label>
                    <select name="ope"  class="form-control" id="">
                        <option value="{{operation}}" *ngFor="let operation of this.operations">{{operation}}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="imePrz">Datum</label>
                    <div class="input-group">
                        <input  name="dat" (click)="od.toggle()" class="form-control" id="od" placeholder="yyyy-mm-dd" ngbDatepicker #od="ngbDatepicker">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar" (click)="od.toggle()" type="button"></button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="imePrz">Redovan rad</label>
                    <div class="input-group mb-3">
                        <input type="number" name="dayWP" class="form-control" id="">
                        <div class="input-group-append">
                            <span class="input-group-text" id="basic-addon2">h</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="imePrz">Noćni rad</label>
                    <div class="input-group mb-3">
                        <input  type="number" name="nightWP" class="form-control" id="">
                        <div class="input-group-append">
                            <span class="input-group-text" id="basic-addon2">h</span>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="imePrz">Ukupan rad</label>
                    <div class="input-group mb-3">
                        <input  type="number" name="sumHours" class="form-control" id="" readonly>
                        <div class="input-group-append">
                            <span class="input-group-text" id="basic-addon2">h</span>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fa fa-window-close"></i> Odustani</button>
          <button type="button" class="btn btn-success" data-dismiss="modal"><i class="fa fa-save"></i> Sačuvaj</button>
        </div>
      </div>
    </div>
  </div>